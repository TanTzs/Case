[{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Zhensi Tan. Author, maintainer.           上海财经大学统计学博士研究生","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Tan Z (2024). Case: 案例实现程序包. R package version 0.0.0.1.","code":"@Manual{,   title = {Case: 案例实现程序包},   author = {Zhensi Tan},   year = {2024},   note = {R package version 0.0.0.1}, }"},{"path":"/index.html","id":"case","dir":"","previous_headings":"","what":"案例实现程序包","title":"案例实现程序包","text":"Case包是为了帮助实现教材中的各个案例所编写的程序包, 包含了实现如何复现iVX、如何预测股票波动率等目的的函数。","code":""},{"path":"/index.html","id":"id_0-安装说明","dir":"","previous_headings":"","what":"0 安装说明","title":"案例实现程序包","text":"","code":"# 可通过github网站下载本包，然后通过RStudio进行本地安装 # 安装后导入即可使用其中包含的数据集及相关函数。 library(Case) #> Registered S3 method overwritten by 'quantmod': #>   method            from #>   as.zoo.data.frame zoo"},{"path":[]},{"path":"/index.html","id":"id_11-option_data","dir":"","previous_headings":"1 数据集介绍","what":"1.1 option_data","title":"案例实现程序包","text":"option_data数据集包含了自2015年2月9日至2024年5月21日的288756条期权数据，包括了交易日期、类型、到期日期、执行价以及收盘价，可用于计算中国波指iVX。数据样式如下:","code":"head(option_data) #>     交易日期 类型   到期日期 执行价 收盘价 #> 1 2015-02-09 看涨 2015-03-25   2.20 0.1826 #> 2 2015-02-09 看涨 2015-03-25   2.25 0.1460 #> 3 2015-02-09 看涨 2015-03-25   2.30 0.1225 #> 4 2015-02-09 看涨 2015-03-25   2.35 0.0942 #> 5 2015-02-09 看涨 2015-03-25   2.40 0.0735 #> 6 2015-02-09 看跌 2015-03-25   2.20 0.0617"},{"path":"/index.html","id":"id_12-ivx","dir":"","previous_headings":"1 数据集介绍","what":"1.2 iVX","title":"案例实现程序包","text":"iVX数据集包含了自2015年2月9日至2018年2月7日的739条中国波指iVX的数据，包括了日期和iVX的值，数据由同花顺公司提供，可用于与计算得到iVX进行对比。数据样式如下:","code":"head(iVX) #>         date   iVX #> 1 2015-02-09 28.63 #> 2 2015-02-10 28.75 #> 3 2015-02-11 26.44 #> 4 2015-02-12 25.80 #> 5 2015-02-13 23.41 #> 6 2015-02-16 23.71"},{"path":"/index.html","id":"id_13-etf50","dir":"","previous_headings":"1 数据集介绍","what":"1.3 etf50","title":"案例实现程序包","text":"etf50数据集包含了自2017年1月3日至2023年12月29日的1701条上证50ETF的数据，包括了日期和上证50ETF的值，数据可由聚宽平台得到，可用于交易回测。数据样式如下:","code":"head(etf50) #>         date etf50 #> 1 2017-01-03 3.142 #> 2 2017-01-04 3.158 #> 3 2017-01-05 3.160 #> 4 2017-01-06 3.144 #> 5 2017-01-09 3.155 #> 6 2017-01-10 3.148"},{"path":"/index.html","id":"id_14-moutai_data","dir":"","previous_headings":"1 数据集介绍","what":"1.4 moutai_data","title":"案例实现程序包","text":"moutai_data数据集包含了自2012年1月4日至2023年12月29日的1701条贵州茅台的五分钟高频数据，数据可从锐思数据得到。数据样式如下:","code":"moutai_data[1:10,(ncol(moutai_data)-1):ncol(moutai_data)] #>       2023-12-28 2023-12-29 #> 09:30   2087.467   2138.477 #> 09:35   2096.307   2147.477 #> 09:40   2096.457   2151.007 #> 09:45   2104.977   2149.977 #> 09:50   2106.477   2158.277 #> 09:55   2109.347   2155.647 #> 10:00   2108.177   2160.377 #> 10:05   2110.507   2166.417 #> 10:10   2115.997   2159.487 #> 10:15   2115.477   2158.607"},{"path":[]},{"path":"/index.html","id":"id_21-ivxcalc","dir":"","previous_headings":"2 案例一相关函数","what":"2.1 iVXCalc()","title":"案例实现程序包","text":"iVXCalc(data,rate)函数可根据提供的期权数据，对中国波指iVX进行估计，其中data参数要求形式与option_data相同的数据框，rate可为常数或者与data中日期跨度相同长度的向量。下面为示例：","code":"iVX_est = iVXCalc(option_data[1:1000,],rate = 0.04) # rate为常数，估计iVX #> [1] 1 #> [1] 2 #> [1] 3 #> [1] 4 #> [1] 5 #> [1] 6 #> [1] 7 #> [1] 8 #> [1] 9 #> [1] 10 #> [1] 11 #> [1] 12 #> [1] 13 #> [1] 14 #> [1] 15 #> [1] 16 #> [1] 17 #> [1] 18 #> 警告信息: number of items to replace is not a multiple of replacement length head(na.omit(iVX_est)) # 输出iVX的估计结果 #>         date  iVX_est #> 1 2015-02-09 22.04162 #> 2 2015-02-10 22.59798 #> 3 2015-02-11 21.02701 #> 4 2015-02-12 21.39366 #> 5 2015-02-13 19.39122 #> 6 2015-02-16 19.75719"},{"path":"/index.html","id":"id_22-backtesting","dir":"","previous_headings":"2 案例一相关函数","what":"2.2 backtesting()","title":"案例实现程序包","text":"backtesting(Cash,amount_per,date,signal,stock,buy_signal,sell_signal)是一个简单的策略回测函数，其策略为:当signal高于buy_signal，则买入amount_per金额的股票；当signal低于sell_signal时，则卖出上一时刻买入的股票份数的股票。回测过程假设不存在手续费、股票份数无限可分。结果将返回一个数据框，其包含回测日期、strategy以及baseline三列，strategy列为使用策略后每天的持有的股票与现金总资产，baseline为一开始全仓买入标的资产后的总资产。 下面为代码示例:","code":"library(lubridate) #>  #> Attaching package: 'lubridate' #> The following objects are masked from 'package:base': #>  #>     date, intersect, setdiff, union cash = 1000 # 初始设置为资金为1000元 amount_per = 100 # 每次买入100元的股票  start_date <- Sys.Date() date <- seq.Date(from = start_date, by = \"day\", length.out = 100)  # 回测周期 signal = abs(rnorm(100,mean = 20, sd = 20)) # 信号 stock = abs(rnorm(100, mean = 10, sd = 10)) # 标的  buy_signal = 30 # 买入信号 sell_signal = 20 # 卖出信号 result = backtesting(cash,amount_per,date,signal,stock,buy_signal,sell_signal) # 策略结果  head(result) #>         date  strategy  baseline #> 1 2024-09-03 1000.0000 1000.0000 #> 2 2024-09-04 1088.7905 1887.9051 #> 3 2024-09-05  956.6054  566.0537 #> 4 2024-09-06 1184.3035 2843.0353 #> 5 2024-09-07 1026.5765  409.9644 #> 6 2024-09-08 1156.4793 2413.8228"},{"path":[]},{"path":"/index.html","id":"id_31-har_rv","dir":"","previous_headings":"3 案例二相关函数","what":"3.1 har_rv()","title":"案例实现程序包","text":"har_rv(data,fore_L,tau)是一个基于HAR-RV及ARMA(1,1)模型，用于预测收益率、波动率和在险价值(VaR)的函数. data变量为包含价格数据的数据框，每一列代表该天的高频价格数据; fore_L则用于确定将data中的后fore_L列作为预测对象，tau为VaR所用的分位数。该函数将返回一个fore_L行*4列的数据框，分别表示预测的收益率、已实现波动率、基于HAR-RV和ARMA(1,1)的历史滤波模拟法得到的VaR预测以及历史滤波模拟法得到的VaR预测，代码示例如下:","code":"rv_var = har_rv(moutai_data,5,0.05) rv_var #>      return_est       rv_est    VaR_est     VaR_hs #> 1  6.452740e-04 9.053514e-05 0.01412996 0.01739796 #> 2  7.780949e-04 8.352796e-05 0.01341172 0.01739796 #> 3  8.394235e-04 7.390862e-05 0.01251169 0.01739796 #> 4 -1.282137e-04 7.093626e-05 0.01322016 0.01739796 #> 5  9.034955e-05 8.631402e-05 0.01435878 0.01739796"},{"path":"/index.html","id":"id_32-garch","dir":"","previous_headings":"3 案例二相关函数","what":"3.2 garch()","title":"案例实现程序包","text":"garch(data,fore_L,tau)是一个基于GARCH(1,1)及ARMA(1,1)模型，用于预测收益率、波动率和在险价值(VaR)的函数. data变量为包含价格数据的数据框，每一列代表该天的高频价格数据; fore_L则用于确定将data中的后fore_L列作为预测对象，tau为VaR所用的分位数。该函数将返回一个fore_L行*3列的数据框，分别表示预测的收益率、已实现波动率、基于GARCH(1,1)和ARMA(1,1)的历史滤波模拟法得到的VaR预测，代码示例如下:","code":"rv_var = garch(moutai_data,5,0.05) rv_var #>     return_est       rv_est    VaR_est #> 1 0.0004097611 9.711321e-05 0.01474769 #> 2 0.0005330007 9.155572e-05 0.01417361 #> 3 0.0006688386 8.652967e-05 0.01363549 #> 4 0.0007360824 8.192918e-05 0.01317846 #> 5 0.0008376075 1.145032e-04 0.01564475"},{"path":"/index.html","id":"id_33-rgarch","dir":"","previous_headings":"3 案例二相关函数","what":"3.3 rgarch()","title":"案例实现程序包","text":"rgarch(data,fore_L,tau)是一个基于RGARCH(1,1)及ARMA(1,1)模型，用于预测收益率、波动率和在险价值(VaR)的函数. data变量为包含价格数据的数据框，每一列代表该天的高频价格数据; fore_L则用于确定将data中的后fore_L列作为预测对象，tau为VaR所用的分位数。该函数将返回一个fore_L行*3列的数据框，分别表示预测的收益率、已实现波动率、基于RGARCH(1,1)和ARMA(1,1)的历史滤波模拟法得到的VaR预测，代码示例如下:","code":"rv_var = rgarch(moutai_data,5,0.05) rv_var #>     return_est       rv_est    VaR_est #> 1 0.0004546732 1.493854e-04 0.01800387 #> 2 0.0005196259 1.161914e-04 0.01570489 #> 3 0.0005705980 9.016460e-05 0.01371817 #> 4 0.0005842852 8.354304e-05 0.01317918 #> 5 0.0008207783 1.192324e-04 0.01560403"},{"path":"/index.html","id":"id_34-heavy","dir":"","previous_headings":"3 案例二相关函数","what":"3.4 heavy()","title":"案例实现程序包","text":"rgarch(data,fore_L,tau)是一个基于HEAVY及ARMA(1,1)模型，用于预测收益率、波动率和在险价值(VaR)的函数. data变量为包含价格数据的数据框，每一列代表该天的高频价格数据; fore_L则用于确定将data中的后fore_L列作为预测对象，tau为VaR所用的分位数。该函数将返回一个fore_L行*3列的数据框，分别表示预测的收益率、已实现波动率、基于HEAVY和ARMA(1,1)的历史滤波模拟法得到的VaR预测，代码示例如下:","code":"rv_var = heavy(moutai_data,5,0.05) rv_var #>     return_est       rv_est    VaR_est #> 1 0.0005422047 9.658463e-05 0.01447490 #> 2 0.0006683811 8.493590e-05 0.01336816 #> 3 0.0007988817 7.408559e-05 0.01229536 #> 4 0.0008752367 7.337154e-05 0.01213440 #> 5 0.0008643660 1.409427e-04 0.01705365"},{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 Tan Zhensi Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/reference/backtesting.html","id":null,"dir":"Reference","previous_headings":"","what":"backtesting — backtesting","title":"backtesting — backtesting","text":"不考虑交易的各种手续费的简单策略回测函数。 当signal信号大于buy_signal时，买入amout_per金额的股票， 当signal信号小于sell_signal时，卖出上一次交易买入的股票数。 最终该函数将返回一个数据框，数据框包括整个回测过程的日期、信号交易以及全仓买入股票两种策略所持有的现金和股票的总价值。","code":""},{"path":"/reference/backtesting.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"backtesting — backtesting","text":"","code":"backtesting(cash, amount_per, date, signal, stock, buy_signal, sell_signal)"},{"path":"/reference/backtesting.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"backtesting — backtesting","text":"cash 交易开始时持有的现金 amount_per 每次执行策略所买入的金额 date 交易向量 signal 交易信号 stock 交易标的 buy_signal 买入信号 sell_signal 卖出信号","code":""},{"path":"/reference/backtesting.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"backtesting — backtesting","text":"返回一个数据框，date列表示回测过程的日期，strategy表示执行策略收获的总资产， baseline表示开始全仓买入收获的总资产","code":""},{"path":"/reference/etf50.html","id":null,"dir":"Reference","previous_headings":"","what":"etf50 — etf50","title":"etf50 — etf50","text":"包含了etf50的值,由聚宽平台提供","code":""},{"path":"/reference/etf50.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"etf50 — etf50","text":"","code":"etf50"},{"path":"/reference/etf50.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"etf50 — etf50","text":"包含了: date 数据日期 etf50 etf50的值","code":""},{"path":"/reference/garch.html","id":null,"dir":"Reference","previous_headings":"","what":"GARCH — garch","title":"GARCH — garch","text":"基于garch(1,1)模型和arma(1,1)模型得到的波动率、收益率以及VaR预测的函数","code":""},{"path":"/reference/garch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"GARCH — garch","text":"","code":"garch(data, fore_L, tau)"},{"path":"/reference/garch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"GARCH — garch","text":"data 数据框，每一列代表一天的价格数据 fore_L 选取data数据框的尾部fore_L列作为预测对象 tau 计算VaR时的选择的分位数","code":""},{"path":"/reference/garch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"GARCH — garch","text":"返回一个数据框，每一列依次为:收益率预测、波动率预测、基于garch(1,1)得到的VaR预测","code":""},{"path":"/reference/har_rv.html","id":null,"dir":"Reference","previous_headings":"","what":"har_rv — har_rv","title":"har_rv — har_rv","text":"har_rv","code":""},{"path":"/reference/har_rv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"har_rv — har_rv","text":"","code":"har_rv(data, fore_L, tau)"},{"path":"/reference/har_rv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"har_rv — har_rv","text":"data 数据框，每一列代表一天的价格数据 fore_L 选取data数据框的尾部fore_L列作为预测对象 tau 计算VaR时的选择的分位数","code":""},{"path":"/reference/har_rv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"har_rv — har_rv","text":"返回一个数据框，每一列依次为:收益率预测、波动率预测、基于HAR-RV方法得到的VaR预测以及 基于历史模拟法得到的VaR的预测","code":""},{"path":"/reference/heavy.html","id":null,"dir":"Reference","previous_headings":"","what":"heavy — heavy","title":"heavy — heavy","text":"基于HEAVY模型和arma模型得到的波动率、收益率以及VaR预测的函数","code":""},{"path":"/reference/heavy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"heavy — heavy","text":"","code":"heavy(data, fore_L, tau)"},{"path":"/reference/heavy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"heavy — heavy","text":"data 数据框，每一列代表一天的价格数据 fore_L 选取data数据框的尾部fore_L列作为预测对象 tau 计算VaR时的选择的分位数","code":""},{"path":"/reference/heavy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"heavy — heavy","text":"返回一个数据框，每一列依次为:收益率预测、波动率预测、基于HEAVY得到的VaR预测","code":""},{"path":"/reference/iVX.html","id":null,"dir":"Reference","previous_headings":"","what":"iVX — iVX","title":"iVX — iVX","text":"包含了iVX2015年2月9日至2018年2月14日的739条观测数据，由同花顺提供","code":""},{"path":"/reference/iVX.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"iVX — iVX","text":"","code":"iVX"},{"path":"/reference/iVX.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"iVX — iVX","text":"包含了: 日期 数据日期 价格 iVX值","code":""},{"path":"/reference/iVXCalc.html","id":null,"dir":"Reference","previous_headings":"","what":"iVXCalc — iVXCalc","title":"iVXCalc — iVXCalc","text":"用于估计中国波指iVX","code":""},{"path":"/reference/iVXCalc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"iVXCalc — iVXCalc","text":"","code":"iVXCalc(data, rate)"},{"path":"/reference/iVXCalc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"iVXCalc — iVXCalc","text":"data 数据框，要求包含期权数据的交易日期、期权合约、类型、挂牌日期以及收盘价等数据 rate 与期权数据长度相等的利率向量或者常数，默认为利率为常数0.04","code":""},{"path":"/reference/iVXCalc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"iVXCalc — iVXCalc","text":"返回估计得到的iVX数据框，包括iVX的日期和值","code":""},{"path":"/reference/moutai_data.html","id":null,"dir":"Reference","previous_headings":"","what":"该数据集为贵州茅台自2012年至2023年的五分钟高频股票价格数据 去除了原始价格数据中的午餐效应、隔夜效应以及缺失值 数据集类型为数据框，每一列代表一天内的价格变动情况 — moutai_data","title":"该数据集为贵州茅台自2012年至2023年的五分钟高频股票价格数据 去除了原始价格数据中的午餐效应、隔夜效应以及缺失值 数据集类型为数据框，每一列代表一天内的价格变动情况 — moutai_data","text":"该数据集为贵州茅台自2012年至2023年的五分钟高频股票价格数据 去除了原始价格数据中的午餐效应、隔夜效应以及缺失值 数据集类型为数据框，每一列代表一天内的价格变动情况","code":""},{"path":"/reference/moutai_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"该数据集为贵州茅台自2012年至2023年的五分钟高频股票价格数据 去除了原始价格数据中的午餐效应、隔夜效应以及缺失值 数据集类型为数据框，每一列代表一天内的价格变动情况 — moutai_data","text":"","code":"moutai_data"},{"path":"/reference/moutai_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"该数据集为贵州茅台自2012年至2023年的五分钟高频股票价格数据 去除了原始价格数据中的午餐效应、隔夜效应以及缺失值 数据集类型为数据框，每一列代表一天内的价格变动情况 — moutai_data","text":"object class matrix (inherits array) 49 rows 2718 columns.","code":""},{"path":"/reference/moutai_data.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"该数据集为贵州茅台自2012年至2023年的五分钟高频股票价格数据 去除了原始价格数据中的午餐效应、隔夜效应以及缺失值 数据集类型为数据框，每一列代表一天内的价格变动情况 — moutai_data","text":"https://www.resset.com/","code":""},{"path":"/reference/option_data.html","id":null,"dir":"Reference","previous_headings":"","what":"option data — option_data","title":"option data — option_data","text":"包含了2015年2月至2024年5月的288756条期权数据","code":""},{"path":"/reference/option_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"option data — option_data","text":"","code":"option_data"},{"path":"/reference/option_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"option data — option_data","text":"交易日期  类型  到期日期  执行价  收盘价","code":""},{"path":"/reference/option_data.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"option data — option_data","text":"https://www.joinquant.com/","code":""},{"path":"/reference/rgarch.html","id":null,"dir":"Reference","previous_headings":"","what":"rgarch — rgarch","title":"rgarch — rgarch","text":"基于rgarch模型和arma模型得到的波动率、收益率以及VaR预测的函数","code":""},{"path":"/reference/rgarch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"rgarch — rgarch","text":"","code":"rgarch(data, fore_L, tau)"},{"path":"/reference/rgarch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"rgarch — rgarch","text":"data 数据框，每一列代表一天的价格数据 fore_L 选取data数据框的尾部fore_L列作为预测对象 tau 计算VaR时的选择的分位数","code":""},{"path":"/reference/rgarch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"rgarch — rgarch","text":"返回一个数据框，每一列依次为:收益率预测、波动率预测、基于rgarch得到的VaR预测","code":""}]
